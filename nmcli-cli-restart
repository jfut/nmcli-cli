#!/bin/bash
#
# nmcli-tool-restart

IF_NAME=$1

if [[ -z "${IF_NAME}" ]]; then
    cat << _EOF_
Usage:

    $0 IF_NAME

    EXAMPLES

        $0 eno1

_EOF_
    exit 1
fi

# Check interface
nmcli connection show "${IF_NAME}" > /dev/null 2>&1
RET=$?
if [[ ${RET} -ne 0 ]]; then
    echo "Error: Interface ${IF_NAME} not found."
    exit 1
fi

# down and up
echo "nmcli connection down \"${IF_NAME}\"; nmcli connection up \"${IF_NAME}\""
# nmcli connection down "${IF_NAME}"; nmcli connection up "${IF_NAME}"

